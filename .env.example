# ============================================================================
# PRODUCTION ENVIRONMENT VARIABLES - DropLabz NFT Community Platform
# ============================================================================
# CRITICAL: Never share these values. Use Vercel's Environment Variables UI
# or your hosting provider's secrets management.
# ============================================================================

# --- DATABASE CONFIGURATION (REQUIRED) ---
# PostgreSQL connection string
# Format: postgresql://user:password@host:port/database
# Production: Use connection pooling (Neon Postgres with @neondatabase/serverless recommended)
DATABASE_URL="postgresql://user:password@localhost:5432/droplabz"
# Optional: Shadow database for migrations (Prisma)
SHADOW_DATABASE_URL="postgresql://user:password@localhost:5432/droplabz_shadow"

# --- AUTHENTICATION (REQUIRED) ---
# NextAuth v4 configuration
# Secret: Generate with: openssl rand -base64 32
# Production: Use strong random string (minimum 32 characters)
NEXTAUTH_SECRET="generate-with-openssl-rand-base64-32"
# Deployed URL (must match exactly for OAuth redirects)
NEXTAUTH_URL="https://your-domain.com"

# --- DISCORD INTEGRATION (REQUIRED) ---
# Discord OAuth Application Credentials
# Get from: https://discord.com/developers/applications
DISCORD_CLIENT_ID="your_discord_client_id"
DISCORD_CLIENT_SECRET="your_discord_client_secret"
# Discord Bot Token (for bot operations)
# Must have permissions: Send Messages, Manage Webhooks, Read Guild Members
DISCORD_BOT_TOKEN="your_discord_bot_token"
# Public Discord invite link
NEXT_PUBLIC_DISCORD_TICKET_URL="https://discord.gg/your-invite"

# --- SUPER ADMIN CONFIGURATION (SECURITY CRITICAL) ---
# Multi-factor verification: Discord ID + Wallet Address BOTH must match
# Get Discord ID: Enable Developer Mode (Discord Settings > Advanced > Developer Mode)
#                 Right-click user â†’ Copy User ID
# Get Solana Wallet: Your public key from your Solana wallet
# Multiple values: comma-separated (e.g., "id1,id2,id3")
# WARNING: Anyone with these IDs can perform admin operations
SUPER_ADMIN_DISCORD_IDS="your_discord_id"
SUPER_ADMIN_WALLET_ADDRESSES="your_solana_wallet_address"

# --- SOLANA CONFIGURATION ---
# Solana RPC Endpoint (use dedicated RPC in production, not devnet)
# Public endpoints have rate limits - consider using Triton, Quicknode, or self-hosted
# Development: https://api.devnet.solana.com
# Production: https://api.mainnet-beta.solana.com (with rate limit upgrade)
SOLANA_RPC_URL="https://api.mainnet-beta.solana.com"
# Public Solana network for frontend (can be different from server RPC)
NEXT_PUBLIC_SOLANA_NETWORK="mainnet-beta"
NEXT_PUBLIC_SOLANA_RPC_URL="https://api.mainnet-beta.solana.com"
# Your deployed Solana program ID
SOLANA_PROGRAM_ID="your_solana_program_id"

# --- APP CONFIGURATION ---
# Base URL for API calls and absolute URLs
APP_BASE_URL="https://your-domain.com"

# --- STRIPE CONFIGURATION (OPTIONAL - for subscription management) ---
# Stripe API Keys: Get from https://dashboard.stripe.com/apikeys
# Test key format: sk_test_... or pk_test_...
# Production key format: sk_live_... or pk_live_...
STRIPE_SECRET_KEY="sk_live_your_stripe_secret"
STRIPE_PUBLISHABLE_KEY="pk_live_your_stripe_publishable"
STRIPE_WEBHOOK_SECRET="whsec_your_webhook_secret"

# --- LOGGING & DEBUGGING ---
# Node environment (production, development, staging)
NODE_ENV="production"
# Enable detailed logging in development only
# Warning: Setting to true in production will expose sensitive information
DEBUG=false

# --- PERFORMANCE & LIMITS ---
# Maximum payload size for API requests (in bytes)
# Default: 1MB (1048576)
MAX_PAYLOAD_SIZE="1048576"
# Rate limiter configuration (in milliseconds)
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX_ATTEMPTS=5

# --- OPTIONAL: CDN & STORAGE ---
# Cloudinary (if using for image uploads)
NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME="your_cloudinary_cloud"
CLOUDINARY_API_KEY="your_cloudinary_api_key"
CLOUDINARY_API_SECRET="your_cloudinary_api_secret"

# ============================================================================
# DEPLOYMENT CHECKLIST
# ============================================================================
# Before deploying to production, verify:
# âœ… All REQUIRED variables are set (database, auth, Discord, Solana, admin)
# âœ… NEXTAUTH_URL matches your deployed domain
# âœ… Database is production-grade with connection pooling
# âœ… Solana RPC endpoint is production (mainnet-beta) not devnet
# âœ… Super admin IDs are correct (test thoroughly before going live)
# âœ… NODE_ENV is set to "production"
# âœ… All secrets are stored in secure vault (never in git or .env files)
# âœ… CORS and security headers are configured
# âœ… Rate limiting is enabled

# ==========================================================================
# SECURITY WARNINGS
# ==========================================================================
# ðŸ”´ NEVER commit actual credentials to git repository
# ðŸ”´ NEVER share NEXTAUTH_SECRET or any API keys
# ðŸ”´ NEVER use devnet Solana RPC in production
# ðŸ”´ NEVER set DEBUG=true in production
# ðŸ”´ SUPER_ADMIN credentials must be kept extremely secure
