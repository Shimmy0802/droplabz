# Registry: use official npm registry
registry=https://registry.npmjs.org

# Enable strict SSL to prevent MitM attacks
strict-ssl=true

# Network configuration for pnpm 9
fetch-timeout=60000
fetch-retry-mintimeout=10000
fetch-retry-maxtimeout=60000
fetch-retries=3

# Prefer online to avoid stale cache
prefer-offline=false

# Allow install scripts (needed for Prisma client generation)
ignore-scripts=false

# Store directory for monorepo optimization
store-dir=.pnpm-store

# Enable hoisting for compatibility
hoist-pattern[]=*

# Auto-install peers (pnpm 9 default)
auto-install-peers=true
store-dir=.pnpm-store

# Free tier optimization: Sequential package fetches
# Prevents concurrent registry connections that fail on limited bandwidth
shamefully-hoist=false
strict-peer-dependencies=false

# NODE_OPTIONS tuning for Vercel free tier (limited memory)
node-linker=pnpm

# Auto-install peer dependencies
auto-install-peers=true
